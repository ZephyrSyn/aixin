<!DOCTYPE html>
<html>

<head>

    <meta charset="UTF-8">

    <title>Merry Christmas</title>

    <link rel="stylesheet" href="css/normalize.css">

    <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
<!--<link rel="icon" href="https://www.zjhuiwan.cn/images/zj32.ico" type="img/x-ico" />-->
</head>

<body>
<audio id="bgm" autoplay="autoplay" loop="loop">
    <source src="https://zephyrsyn.github.io/SL/bs/mp3/林俊杰 - 将故事写成我们.mp3" type="audio/mp3" />
</audio>
    <canvas class="canvas"></canvas>

    <div class="help" style="display:none;">?</div>

    <div class="ui" style="display:none;">
        <input class="ui-input" type="text" />
        <span class="ui-return">↵</span>
    </div>

    <div class="overlay">
        <div class="tabs">
            <div class="tabs-labels"><span class="tabs-label">Commands</span><span class="tabs-label">Info</span><span class="tabs-label">Share</span></div>

            <div class="tabs-panels">
                <ul class="tabs-panel commands">
                    <li class="commands-item"><span class="commands-item-title">Text</span><span class="commands-item-info" data-demo="Hello :)">Type anything</span><span class="commands-item-action">Demo</span></li>
                    <li class="commands-item"><span class="commands-item-title">Countdown</span><span class="commands-item-info" data-demo="#countdown 10">#countdown<span class="commands-item-mode">number</span></span><span class="commands-item-action">Demo</span></li>
                    <li class="commands-item"><span class="commands-item-title">Time</span><span class="commands-item-info" data-demo="#time">#time</span><span class="commands-item-action">Demo</span></li>
                    <li class="commands-item"><span class="commands-item-title">Rectangle</span><span class="commands-item-info" data-demo="#rectangle 30x15">#rectangle<span class="commands-item-mode">width x height</span></span><span class="commands-item-action">Demo</span></li>
                    <li class="commands-item"><span class="commands-item-title">Circle</span><span class="commands-item-info" data-demo="#circle 25">#circle<span class="commands-item-mode">diameter</span></span><span class="commands-item-action">Demo</span></li>

                    <li class="commands-item commands-item--gap"><span class="commands-item-title">Animate</span><span class="commands-item-info" data-demo="The time is|#time|#countdown 3|#icon thumbs-up"><span class="commands-item-mode">command1</span>&nbsp;|<span class="commands-item-mode">command2</span></span><span class="commands-item-action">Demo</span></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="js/index.js"></script>
<script type="text/javascript">
/*    autoPlayMusic();
    audioAutoPlay();
    //音乐自动播放
    $(document).ready(function(){
        autoPlayMusic();
        audioAutoPlay();
    });
    function audioAutoPlay() {
        var audio = document.getElementById('bgm');
        audio.play();
        document.addEventListener("WeixinJSBridgeReady", function () {
            audio.play();
        }, false);
    }
    // 音乐播放
    function autoPlayMusic() {
        // 自动播放音乐效果，解决浏览器或者APP自动播放问题
        function musicInBrowserHandler() {
            musicPlay(true);
            document.body.removeEventListener('touchstart', musicInBrowserHandler);
        }
        document.body.addEventListener('touchstart', musicInBrowserHandler);
        // 自动播放音乐效果，解决微信自动播放问题
        function musicInWeixinHandler() {
            musicPlay(true);
            document.addEventListener("WeixinJSBridgeReady", function () {
                musicPlay(true);
            }, false);
            document.removeEventListener('DOMContentLoaded', musicInWeixinHandler);
        }
        document.addEventListener('DOMContentLoaded', musicInWeixinHandler);
    }
    function musicPlay(isPlay) {
        var media = document.querySelector('#bgm');
        if (isPlay && media.paused) {
            media.play();
        }
        if (!isPlay && !media.paused) {
            media.pause();
        }
    }*/
    function initMusic() {
        var audio = document.createElement('audio');
        audio.setAttribute('id', 'audio');
        audio.setAttribute('autoplay', 'autoplay');
        audio.setAttribute('loop', 'loop');
        audio.innerHTML = '<source src="https://zephyrsyn.github.io/SL/bs/mp3/林俊杰 - 将故事写成我们.mp3" type="audio/mpeg">';
        document.body.appendChild(audio);
        audio.load();
        audio.play();
        audio.pause();
        document.addEventListener("WeixinJSBridgeReady", function() {
            document.getElementById('audio').play();
        }, false);
    }
    window.onload = function() {
        initMusic();
    };

</script>

</body>

</html>